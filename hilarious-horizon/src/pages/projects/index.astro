---
import Layout from "../../layouts/layout.astro";
import { getCollection } from "astro:content";
const projects = await getCollection("projects")
---

<Layout title={"Projects"}>
    <h1>My Projects</h1>
    <div class="projects-list">
        {projects.map(post => (
            <article class="projects-article">
                <h2>{post.data.title}</h2>
                <p>Created by: {post.data.author}</p>
                <a class="link" href={`/projects/${post.id}`}>Read more ..</a>
            </article>
        ))}
    </div>
</Layout>

<style>
    h1{
        margin-top: 1em;
        text-align: center;
    }
    .projects-list{
        margin: 2em;
        display: flex;
        flex-direction: column;
        gap: 1em;
        align-items: center;
        justify-content: center;
    }
    .link{
        text-decoration: none;
        
    }
    .projects-article{
        border-bottom: 1px solid  whitesmoke;
        width: 20em;
    }
</style>